Incorrect bounds check on adding to list